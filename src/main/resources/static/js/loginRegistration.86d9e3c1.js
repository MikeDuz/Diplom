(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["loginRegistration"],{"07ac":function(t,e,n){var r=n("23e7"),a=n("6f53").values;r({target:"Object",stat:!0},{values:function(t){return a(t)}})},"08f9":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"Login-Form Form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[n("InputEmail",{attrs:{error:t.authErrors.email},on:{"field-validated":t.onValidateField}}),n("InputPassword",{attrs:{error:t.authErrors.password},on:{"field-validated":t.onValidateField}}),n("Captcha",{attrs:{src:t.image,error:t.authErrors.captcha},on:{"field-validated":t.onValidateField}}),n("div",{staticClass:"Form-Submit"},[n("BaseButton",{attrs:{onClickButton:t.onSubmit,disabled:"success"!==t.submitStatus}},[t._v(" Зарегистрироваться ")])],1)],1)},a=[],i=(n("d3b7"),n("3ca3"),n("ddb0"),n("b64b"),n("99af"),n("d860")),s=n("0d38"),u=function(){return n.e("baseButton").then(n.bind(null,"82ea"))},o=function(){return n.e("inputEmail").then(n.bind(null,"994b"))},c=function(){return n.e("captcha").then(n.bind(null,"e820"))},d=function(){return n.e("inputPassword").then(n.bind(null,"6f60"))},l={components:{BaseButton:u,InputEmail:o,InputPassword:d,Captcha:c},data:function(){return{requiredFields:"secret,email,password,repeatPassword,captcha"}},mixins:[i["default"],s["default"]],computed:{authErrors:function(){return this.$store.getters.authErrors}},methods:{onSubmit:function(){var t=this;this.$store.dispatch("register",this.validatedFields).then((function(){Object.keys(t.authErrors).length||t.$router.push("/login")})).catch((function(e){return t.serverErrors.push(e)}))}},metaInfo:function(){return{title:this.blogInfo?"Регистрация | ".concat(this.blogInfo.title," - ").concat(this.blogInfo.subtitle):"Регистрация"}}},f=l,h=n("2877"),b=Object(h["a"])(f,r,a,!1,null,null,null);e["default"]=b.exports},"0d38":function(t,e,n){"use strict";n.r(e);var r=n("bc3a"),a=n.n(r),i=n("8c89");e["default"]={data:function(){return{image:"",captchaError:"",errors:[]}},mounted:function(){var t=this;a.a.get("".concat(i["SERVER_URL"],"/api/auth/captcha")).then((function(e){t.image=e.data.image,t.validatedFields.secret=e.data.secret})).catch((function(e){t.errors.push(e)}))}}},"6f53":function(t,e,n){var r=n("83ab"),a=n("df75"),i=n("fc6a"),s=n("d1e7").f,u=function(t){return function(e){var n,u=i(e),o=a(u),c=o.length,d=0,l=[];while(c>d)n=o[d++],r&&!s.call(u,n)||l.push(t?[n,u[n]]:u[n]);return l}};t.exports={entries:u(!0),values:u(!1)}},d860:function(t,e,n){"use strict";n.r(e);var r=n("5530");n("d3b7"),n("25f0"),n("b64b"),n("07ac");e["default"]={data:function(){return{validatedFields:{},serverErrors:[]}},computed:{submitStatus:function(){return Object.keys(this.validatedFields).toString()===this.requiredFields&&Object.values(this.validatedFields).every((function(t){return!1!==t}))?"success":"error"}},methods:{onValidateField:function(t){this.validatedFields=Object(r["a"])(Object(r["a"])({},this.validatedFields),t)}}}}}]);
//# sourceMappingURL=loginRegistration.86d9e3c1.js.map